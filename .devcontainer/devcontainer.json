{
  "name": "gateway-poc-dev",
  "dockerComposeFile": [
    "../docker-compose.yml",
    "docker-compose.devcontainer.yml"
  ],
  "service": "dev",
  "workspaceFolder": "/src",
  "shutdownAction": "stopCompose",
  "initializeCommand": "/bin/sh -c 'docker pull --platform=linux/arm64 golang:1.21-bookworm 2>&1 || echo \"Image pull failed, continuing with build...\"'",
  "forwardPorts": [4566, 8001],
  "portsAttributes": {
    "4566": {
      "label": "LocalStack",
      "onAutoForward": "notify"
    },
    "8001": {
      "label": "DynamoDB Admin",
      "onAutoForward": "notify"
    }
  },
  "remoteEnv": {
    "AWS_ENDPOINT_URL": "http://localstack:4566",
    "AWS_DEFAULT_REGION": "${containerEnv:AWS_DEFAULT_REGION:-us-east-1}",
    "DOCKER_DEFAULT_PLATFORM": "linux/arm64"
  },
  "postCreateCommand": "go version && aws --version",
  "customizations": {
    "vscode": {
      "extensions": [
        "golang.Go",
        "ms-azuretools.vscode-docker",
        "amazonwebservices.aws-toolkit-vscode",
        "MS-CEINTL.vscode-language-pack-ja",
        "streetsidesoftware.code-spell-checker",
        "esbenp.prettier-vscode"
      ]
    },
    "settings": {
      "cSpell.language": "en",
      "cSpell.words": [],
      "editor.renderWhitespace": "all"
    }
  }
}
